import numpy
import random
import matplotlib.pyplot as plt

Sqrt12=12**0.5
targetsd=18.49/Sqrt12
NMonths=91*12+6           #Number of months of virtual reality
VirtualReality=[]
random.seed(3.14159265)
for x in range(NMonths):
    VirtualReality.append(random.gauss(0,targetsd))

#VirtualReality now contains Nmonths sample
#of normal variates mean 0 stddev targetsd
    
#Generate sample standard deviations
SampleSd=[]
for lookback in [12,36,60]:
    Sds=[]  #Save lookback-length SD's in SdS
    for x in range(0,NMonths-lookback):
        StdDev=numpy.std(\
        VirtualReality[x:x+lookback])
        Sds.append(StdDev*Sqrt12)
    SampleSd.append(Sds)   #Add a row to SampleSd

#Generate date array
Date=[]
Year,Month=1926,7
for x in range(NMonths):
    Date.append(float(Year+Month/100.0))
    Month+=1
    if (Month==13):
        Year+=1
        Month=1

#Graph
StubOffset=6  #First six months are stub dates
fig, ax = plt.subplots()
ax.plot(Date[12+StubOffset:], SampleSd[0][StubOffset:], 'y-', label='12 month')
ax.plot(Date[36+StubOffset:], SampleSd[1][StubOffset:], 'b-', label='36 month')
ax.plot(Date[60+StubOffset:], SampleSd[2][StubOffset:], 'r-', label='60 month')
for label in ax.xaxis.get_ticklabels():
    label.set_rotation(45)
legend = ax.legend(loc='upper right', shadow=False, fontsize='medium')
ax.grid()

plt.title('Figure 1')
plt.ylabel('Sample SDs')
plt.axis([min(Date),max(Date),0,70])
plt.show()
